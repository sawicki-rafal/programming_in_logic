singly(X,L):-
    select(X,L,L2),
    \+ member(X,L2).

doubly(X,L):-
    select(X,L,L2),
    singly(X,L2).

list(N,X):-
        Length is 2*N,
    length(X,Length),
    between(1,N,NumberToCheck),
    doubly(NumberToCheck,X).


basiclist(Lin, 0, Lin).
basiclist(Lin, X, Lout) :- X>0, Y is X-1, basiclist([X|Lin], Y, Lout).

alllist([], Lin, Lin, 0, _, []).
alllist([H|T], Lin, Lout, X, Xmax, Elems) :-
	Y is X-1,
	between(1, Xmax, I),
	member(I, Elems),
	select(I, Elems, NElems),
	alllist(T, [H|[I|Lin]], Lout, Y, Xmax, NElems).

lista(L, X) :- basiclist([], X, Elems), alllist(Elems, [], L, X, X, Elems).
